(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["validate"],{"19c3":function(e,t,r){"use strict";r("3925")},"31fa":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"validate"},[r("v-container",[r("v-row",[r("v-col",[r("BreadCrumbs"),r("h1",[e._v("Validate CellML models")]),r("p",[e._v(" This service will accept CellML 2.0 files and check for syntactic validity against the "),r("a",{attrs:{href:"https://www.cellml.org/specifications/cellml_2.0",target:"_blank"}},[e._v("CellML Normative Specification")])]),r("v-container",[r("v-file-input",{attrs:{"show-size":"","truncate-length":"64",label:"Upload model"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},[e._v(" >")])],1),r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{staticClass:"col-12 col-md-4",attrs:{id:"validateButton"}},[null!==e.file?r("v-btn",{class:"big-button",attrs:{block:""},on:{click:e.readFile}},[r("v-icon",{attrs:{color:"white","x-large":""}},[e._v("mdi-file-check-outline")]),r("br"),e._v(" Validate CellML 2.0 syntax ")],1):e._e()],1)],1)],1),e.parserHasErrors?r("v-container",[r("v-card",{staticClass:"errors",attrs:{elevation:"0"}},[r("v-card-title",[r("v-icon",{attrs:{large:""}},[e._v("mdi-alert-circle")]),r("span",{staticStyle:{"padding-right":"1em","font-weight":"600"}},[e._v(e._s(e.file.name)+":")]),r("span",[e._v("Parser errors were found!")])],1)],1),e._l(e.getIssues,(function(t,s){return r("v-card",{key:s,attrs:{elevation:"0",outlined:""}},[r("v-card-text",[e._v(e._s(t.description))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{right:"",text:"",light:""},on:{click:function(t){return e.removeMessage(s)}}},[e._v("Dismiss")])],1)],1)}))],2):r("v-container",[e.fileIsTested&&!e.hasErrors?r("v-card",{staticClass:"noErrors",attrs:{elevation:"0"}},[r("v-card-title",[r("v-icon",{attrs:{large:""}},[e._v("mdi-check-bold")]),r("span",{staticStyle:{"padding-right":"0.5em","font-weight":"600"}},[e._v(e._s(e.file.name)+":")]),r("span",[e._v("The model is valid!")])],1)],1):e._e(),e.fileIsTested&&e.hasErrors?r("v-card",{staticClass:"errors",attrs:{elevation:"0"}},[r("v-card-title",[r("v-icon",{attrs:{large:""}},[e._v("mdi-alert-circle")]),r("span",{staticStyle:{"padding-right":"0.5em","font-weight":"600"}},[e._v(e._s(e.file.name)+":")]),r("span",[e._v("Validation errors were found")])],1)],1):e._e(),e._l(e.getIssues,(function(t,s){return r("v-card",{key:s,attrs:{elevation:"0",outlined:""}},[r("v-card-text",[e._v(e._s(t.description))]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{right:"",text:"",light:""},on:{click:function(t){return e.removeMessage(s)}}},[e._v("Dismiss")])],1)],1)}))],2)],1)],1)],1)],1)},a=[],i=(r("a4d3"),r("e01a"),r("b0c0"),r("5530")),n=r("2f62"),o=r("f423"),c={name:"Validate",components:{BreadCrumbs:o["a"]},data:function(){return{isTested:!1,errorsFound:!1,parserErrorsFound:!1,file:null,issueData:[]}},computed:{getIssues:function(){return this.$data.issueData},getFileName:function(){return null===this.$data.file?"":this.$data.file.name},fileIsTested:function(){return this.$data.isTested},hasErrors:function(){return this.$data.errorsFound},fileChanged:function(){return this.$data.file},parserHasErrors:function(){return this.$data.parserErrorsFound}},watch:{fileChanged:function(){this.clearData()}},methods:Object(i["a"])({removeMessage:function(e){this.$delete(this.getIssues,e)},validate:function(e){var t=new this.$libcellml.Parser,r=new this.$libcellml.Validator,s=null;try{s=t.parseModel(e)}catch(c){return this.$data.parserErrorsFound=!0,{issues:[{description:"At present, CellML files containing Units cannot be read.  "+c.message}],type:"parser"}}var a=[],i=0;if(t.errorCount()){while(i<t.errorCount()){var n=t.error(i);a.push({description:n.description()}),i++}return this.$data.parserErrorsFound=!0,{issues:a,type:"parser"}}i=0,r.validateModel(s);while(i<r.errorCount()){var o=r.error(i);a.push({description:o.description()}),i++}return a.length>0?this.$data.errorsFound=!0:this.$data.errorsFound=!1,{issues:a,type:"validator"}},clearData:function(){this.$data.parserErrorsFound=!1,this.$data.errorsFound=!1,this.$data.isTested=!1,this.$data.issueData=[]},readFile:function(){this.clearData();var e=new FileReader,t=this;e.readAsText(this.$data.file,"UTF-8"),e.onload=function(e){try{var r=t.validate(e.target.result);t.$data.issueData=r.issues,t.$data.isTested="validator"===r.type,t.$data.parserHasErrors="parser"===r.type}catch(s){console.log("Could not validate file: "+s.message)}},e.onerror=function(e){t.add({type:"error",title:"File read error:",message:file.name})}}},Object(n["b"])("notifications",["add"]))},d=c,l=(r("d227"),r("19c3"),r("2877")),u=r("6544"),v=r.n(u),p=r("8336"),h=r("b0af"),f=r("99d9"),m=r("62ad"),b=r("a523"),g=r("23a7"),_=r("132d"),y=r("0fd9"),$=r("2fa4"),C=Object(l["a"])(d,s,a,!1,null,"4a431715",null);t["default"]=C.exports;v()(C,{VBtn:p["a"],VCard:h["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VCol:m["a"],VContainer:b["a"],VFileInput:g["a"],VIcon:_["a"],VRow:y["a"],VSpacer:$["a"]})},3925:function(e,t,r){},"400d":function(e,t,r){"use strict";r("f166")},"532c":function(e,t,r){},"6cb2":function(e,t,r){"use strict";r("a98a")},a98a:function(e,t,r){},abd3:function(e,t,r){},d227:function(e,t,r){"use strict";r("532c")},f166:function(e,t,r){},f423:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"breadcrumbs",attrs:{id:"breadcrumbs"}},[r("v-container",[e.currentVersion&&e.currentVersion!==e.latest?[r("div",{staticClass:"old-version"},[r("router-link",{attrs:{to:{path:""+e.latestFullPath}}},[e._v(" You are viewing an old version. Click to see the latest one ")]),r("v-icon",{attrs:{size:"1.3em"}},[e._v("mdi-alert-circle-outline")])],1)]:e._e(),r("v-row",{staticClass:"flex float-left"},[r("v-breadcrumbs",{attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[r("v-icon",[e._v("mdi-chevron-right")])]},proxy:!0},{key:"item",fn:function(t){var s=t.item;return["versionSelector"===s.type?[r("VersionDropdown",{attrs:{versionChoices:e.versionChoices,currentVersion:e.currentVersion,versionType:e.versionType}}),r("v-breadcrumbs-item",{style:"padding-right: 0;",attrs:{to:{name:s.name,hash:s.hash,params:s.params},disabled:s.disabled,exact:!0}},[e._v(" "+e._s(s.text)+" ")])]:"pageFromName"===s.type?[r("v-breadcrumbs-item",{attrs:{exact:!0,to:{name:s.name,hash:s.hash,params:s.params},disabled:s.disabled}},["HOME"===s.text?[r("v-icon",{attrs:{size:"1.3em"}},[e._v("mdi-home")])]:[e._v(" "+e._s(s.text)+" ")]],2)]:[r("v-breadcrumbs-item",{attrs:{exact:!0,to:{path:s.path},disabled:!1}},[e._v(" "+e._s(s.text)+" ")])]]}}])})],1)],2)],1)},a=[],i=(r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{id:"dropdown-id"}},[r("v-col",{staticClass:"breadcrumb-dropdown",on:{click:e.expandDropdown}},[r("v-icon",{attrs:{size:"1.1em"}},[e._v("mdi-chevron-down")])],1)],1),r("v-row",{staticClass:"hide-options"},[e._l(e.versionChoices,(function(t,s){return[r("router-link",{key:"version_index_"+s,attrs:{id:"version_"+t,to:{path:"/documentation/"+e.versionType+"/"+t+e.pagePath}}},[e._v(" "+e._s(t)+" ")]),t===e.currentVersion?[r("v-icon",{key:"version_tick"+t,attrs:{size:"1em"}},[e._v("mdi-check")])]:e._e(),r("br",{key:"_"+s})]}))],2)],1)}),n=[],o=(r("1276"),r("0306")),c={name:"VersionDropdown",props:{currentVersion:{type:String,default:""},versionChoices:{type:Array,default:function(){return[]}},versionType:{type:String,default:""}},mounted:function(){if("guides"===this.$props.versionType&&this.$props.currentVersion!==Object(o["c"])()[0]||"api"===this.$props.versionType&&this.$props.currentVersion!==Object(o["a"])()[0]){var e=document.getElementById("dropdown-id");e.classList=["old-version"]}},methods:{expandDropdown:function(){var e=document.getElementById("dropdown-id");document.addEventListener("click",(function(t){var r=e.contains(t.target);r||(e.nextSibling.classList=["hide-options"])})),this.$el.lastElementChild.classList=["show-options"]}},computed:{pagePath:function(){return this.$route.fullPath.split("".concat(this.$route.params.version))[1]}}},d=c,l=(r("6cb2"),r("2877")),u=r("6544"),v=r.n(u),p=r("62ad"),h=r("a523"),f=r("132d"),m=r("0fd9"),b=Object(l["a"])(d,i,n,!1,null,"42eb19c5",null),g=b.exports;v()(b,{VCol:p["a"],VContainer:h["a"],VIcon:f["a"],VRow:m["a"]});var _={name:"BreadCrumbs",components:{VersionDropdown:g},props:{currentVersion:{type:String,default:""},versionChoices:{type:Array,default:function(){return[]}},versionType:{type:String,default:""}},data:function(){return{items:[],version:""}},computed:{breadcrumbs:function(){return this.$store.state.breadcrumbs},latest:function(){return"guides"===this.$props.versionType?Object(o["c"])()[0]:"developers"===this.$props.versionType?Object(o["b"])()[0]:Object(o["a"])()[0]},latestFullPath:function(){return this.$route.fullPath.replace("".concat(this.$route.params.version),this.latest)}}},y=_,$=(r("400d"),r("a15b"),r("5530")),C=(r("abd3"),r("ade3")),w=r("1c87"),V=r("58df"),x=Object(V["a"])(w["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(C["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),r=t.tag,s=t.data;return e("li",[e(r,Object($["a"])(Object($["a"])({},s),{},{attrs:Object($["a"])(Object($["a"])({},s.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),k=r("80d2"),j=Object(k["g"])("v-breadcrumbs__divider","li"),E=r("7560"),T=Object(V["a"])(E["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object($["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(j,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,r=[],s=0;s<this.items.length;s++){var a=this.items[s];r.push(a.text),t?e.push(this.$scopedSlots.item({item:a})):e.push(this.$createElement(x,{key:r.join("."),props:a},[a.text])),s<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}}),O=Object(l["a"])(y,s,a,!1,null,"07a4ea50",null);t["a"]=O.exports;v()(O,{VBreadcrumbs:T,VBreadcrumbsItem:x,VContainer:h["a"],VIcon:f["a"],VRow:m["a"]})}}]);
//# sourceMappingURL=validate.3b39fb51.js.map